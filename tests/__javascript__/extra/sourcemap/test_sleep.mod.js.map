{
	"version": 3,
	"file": "tests/__javascript__/test_sleep.mod.js",
	"sources": [
		"tests/test_sleep.py"
	],
	"sourcesContent": [
		"__pragma__('alias', 'S', '$')\nfrom test_base import TestBase\n\n# I really need to make func() take a long time so I can ensure sleep instead of interval\n    \nclass TestSleep(TestBase):\n    NEEDED_TIME = 1000\n\n    def begin(self):\n        self.counter = 0\n        self.start_time = __new__(Date())\n        def func():\n            self.counter += 1\n        self.div.autotimer().SleepTimer({\n            'millis': 400,\n        }).do(func)\n        \n    def end(self):\n        self.assertTrue(self.counter == 2)\n        \nS.fn.autotimer.TESTS.append(TestSleep)\n    \n    \n\nclass TestSleepAfter(TestBase):\n    NEEDED_TIME = 1000\n\n    def begin(self):\n        self.counter = 0\n        self.start_time = __new__(Date())\n        def func():\n            self.counter += 1\n        self.div.autotimer().SleepAfterTimer({\n            'millis': 400,\n        }).do(func)\n        \n    def end(self):\n        # immediate run, plus two after timer runs\n        self.assertTrue(self.counter == 3)\n        \nS.fn.autotimer.TESTS.append(TestSleepAfter)\n    \n    \n    \nclass TestSleepAfter(TestBase):\n    NEEDED_TIME = 1000\n\n    def begin(self):\n        self.counter = 0\n        self.start_time = __new__(Date())\n        def func():\n            self.counter += 1\n        promise = self.div.autotimer().SleepAfterTimer({\n            'millis': 10000, \n        })\n        # wait 400ms to attach the do\n        # this is after the first run of func would have happened\n        # the timer should still run immediately when .do is added\n        def attach():\n            promise.do(func)\n        window.setTimeout(attach, 400)\n        \n    def end(self):\n        self.assertTrue(self.counter == 1)\n        \nS.fn.autotimer.TESTS.append(TestSleepAfter)\n    \n    \n    "
	],
	"mappings": "AAAA;AACA;AAIA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AAAA;AAIA;AACA;AAAA;AAAA;AAEA;AAIA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AAAA;AAIA;AAEA;AAAA;AAAA;AAEA;AAIA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AAMA;AACA;AAAA;AACA;AAAA;AAEA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA"
}